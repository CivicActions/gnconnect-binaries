(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{2567:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(284),l=a(96),n=a(776),u=a(286),s=function(e){return e&&e.__esModule?e:{default:e}}(a(2568));t.default=(0,r.connect)(function(e){var t=(0,l.getConfig)(e);return{currentChannel:(0,n.getCurrentChannel)(e),currentTeam:(0,u.getCurrentTeam)(e),customDescriptionText:t.CustomDescriptionText,siteName:t.SiteName}})(s.default)},2568:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(42)),l=E(a(282)),n=E(a(279)),u=E(a(283)),s=E(a(280)),d=E(a(281)),i=E(a(1)),c=E(a(3)),o=a(285),m=E(a(874)),f=E(a(805)),p=E(a(2569)),_=E(a(882)),h=E(a(2570));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,n.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));M.call(a);var r={team:{},wizard:"display_name"};return a.state=r,a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentChannel,l=t.currentTeam,n=t.customDescriptionText,u=t.match,s=t.siteName,d="/select_team";return l&&(d="/"+l.name,a&&(d+="/channels/"+a.name)),c.default.createElement("div",null,c.default.createElement(m.default,null),c.default.createElement(f.default,{url:d}),c.default.createElement("div",{className:"col-sm-12"},c.default.createElement("div",{className:"signup-team__container"},c.default.createElement(_.default,{customDescriptionText:n,siteName:s}),c.default.createElement("div",{className:"signup__content"},c.default.createElement(o.Switch,null,c.default.createElement(o.Route,{path:this.props.match.url+"/display_name",render:function(t){return c.default.createElement(p.default,(0,r.default)({state:e.state,updateParent:e.updateParent},t))}}),c.default.createElement(o.Route,{path:this.props.match.url+"/team_url",render:function(t){return c.default.createElement(h.default,(0,r.default)({state:e.state,updateParent:e.updateParent},t))}}),c.default.createElement(o.Redirect,{to:u.url+"/display_name"}))))))}}]),t}(c.default.PureComponent);g.propTypes={currentTeam:i.default.object,currentChannel:i.default.object,customDescriptionText:i.default.string,siteName:i.default.string,match:i.default.shape({url:i.default.string.isRequired}).isRequired};var M=function(){var e=this;this.updateParent=function(t){e.setState(t),e.props.history.push("/create_team/"+t.wizard)}};t.default=g},2569:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(282)),l=E(a(279)),n=E(a(283)),u=E(a(280)),s=E(a(281)),d=E(a(1)),i=E(a(3)),c=E(a(287)),o=a(762),m=a(791),f=E(a(25)),p=a(785),_=E(a(809)),h=a(763);function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.submitNext=function(e){e.preventDefault();var t=c.default.findDOMNode(a.refs.name).value.trim();if(t)if(t.length<f.default.MIN_TEAMNAME_LENGTH||t.length>f.default.MAX_TEAMNAME_LENGTH)a.setState({nameError:i.default.createElement(o.FormattedMessage,{id:"create_team.display_name.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description later.",values:{min:f.default.MIN_TEAMNAME_LENGTH,max:f.default.MAX_TEAMNAME_LENGTH}})});else{var r=a.props.state;r.wizard="team_url",r.team.display_name=t,r.team.name=(0,p.cleanUpUrlable)(t),a.props.updateParent(r)}else a.setState({nameError:i.default.createElement(o.FormattedMessage,{id:"create_team.display_name.required",defaultMessage:"This field is required"})})},a.handleFocus=function(e){e.preventDefault(),e.currentTarget.select()},a.state={},a}return(0,s.default)(t,e),(0,n.default)(t,[{key:"componentDidMount",value:function(){(0,m.trackEvent)("signup","signup_team_01_name")}},{key:"render",value:function(){var e=null,t="form-group";return this.state.nameError&&(e=i.default.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error"),i.default.createElement("div",null,i.default.createElement("form",null,i.default.createElement("img",{className:"signup-team-logo",src:_.default}),i.default.createElement("h2",null,i.default.createElement(o.FormattedMessage,{id:"create_team.display_name.teamName",defaultMessage:"Team Name"})),i.default.createElement("div",{className:t},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-sm-9"},i.default.createElement("input",{type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.display_name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"}))),e),i.default.createElement("div",null,i.default.createElement(o.FormattedMessage,{id:"create_team.display_name.nameHelp",defaultMessage:"Name your team in any language. Your team name shows in menus and headings."})),i.default.createElement("button",{type:"submit",className:"btn btn-primary margin--extra",onClick:this.submitNext},i.default.createElement(o.FormattedMessage,{id:"create_team.display_name.next",defaultMessage:"Next"}),i.default.createElement("i",{className:"fa fa-chevron-right",title:(0,h.localizeMessage)("generic_icons.next","Next Icon")}))))}}]),t}(i.default.PureComponent);g.propTypes={state:d.default.object,updateParent:d.default.func},t.default=g},2570:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),l=a(284),n=a(795),u=function(e){return e&&e.__esModule?e:{default:e}}(a(2571));t.default=(0,l.connect)(null,function(e){return{actions:(0,r.bindActionCreators)({checkIfTeamExists:n.checkIfTeamExists,createTeam:n.createTeam},e)}})(u.default)},2571:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(a(126)),l=v(a(292)),n=v(a(127)),u=v(a(282)),s=v(a(279)),d=v(a(283)),i=v(a(280)),c=v(a(281)),o=v(a(1)),m=v(a(3)),f=a(767),p=v(a(287)),_=a(762),h=a(791),E=v(a(25)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(785)),M=v(a(809));function v(e){return e&&e.__esModule?e:{default:e}}var N=function(e){function t(e){var a=this;(0,s.default)(this,t);var d=(0,i.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return d.submitBack=function(e){e.preventDefault();var t=d.props.state;t.wizard="display_name",d.props.updateParent(t)},d.submitNext=function(){var e=(0,n.default)(r.default.mark(function e(t){var n,u,s,i,c,o,f,M,v,N,b,T;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=p.default.findDOMNode(d.refs.name).value.trim(),u=g.cleanUpUrlable(n),s=/^[a-z]+([a-z\-0-9]+|(__)?)[a-z0-9]+$/g,i=d.props.actions,c=i.checkIfTeamExists,o=i.createTeam,n){e.next=8;break}return d.setState({nameError:m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.required",defaultMessage:"This field is required"})}),e.abrupt("return");case 8:if(!(u.length<E.default.MIN_TEAMNAME_LENGTH||u.length>E.default.MAX_TEAMNAME_LENGTH)){e.next=11;break}return d.setState({nameError:m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}",values:{min:E.default.MIN_TEAMNAME_LENGTH,max:E.default.MAX_TEAMNAME_LENGTH}})}),e.abrupt("return");case 11:if(u===n&&s.test(n)){e.next=14;break}return d.setState({nameError:m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.regex",defaultMessage:"Use only lower case letters, numbers and dashes. Must start with a letter and can't end in a dash."})}),e.abrupt("return");case 14:f=0;case 15:if(!(f<E.default.RESERVED_TEAM_NAMES.length)){e.next=22;break}if(0!==u.indexOf(E.default.RESERVED_TEAM_NAMES[f])){e.next=19;break}return d.setState({nameError:m.default.createElement(_.FormattedHTMLMessage,{id:"create_team.team_url.taken",defaultMessage:'This URL <a href="https://docs.mattermost.com/help/getting-started/creating-teams.html#team-url" target="_blank">starts with a reserved word</a> or is unavailable. Please try another.'})}),e.abrupt("return");case 19:f++,e.next=15;break;case 22:return d.setState({isLoading:!0}),(M=JSON.parse((0,l.default)(d.props.state))).team.type="O",M.team.name=n,e.next=28,c(n);case 28:if(v=e.sent,!v.exists){e.next=34;break}return d.setState({nameError:m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.unavailable",defaultMessage:"This URL is taken or unavailable. Please try another."})}),d.setState({isLoading:!1}),e.abrupt("return");case 34:return e.next=36,o(M.team);case 36:N=e.sent,b=N.data,T=N.error,b?(d.props.history.push("/"+b.name+"/channels/town-square"),(0,h.trackEvent)("signup","signup_team_03_complete")):T&&(d.setState({nameError:T.message}),d.setState({isLoading:!1}));case 40:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),d.handleFocus=function(e){e.preventDefault(),e.currentTarget.select()},d.state={nameError:"",isLoading:!1},d}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){(0,h.trackEvent)("signup","signup_team_02_url")}},{key:"render",value:function(){var e=null,t="form-group";this.state.nameError&&(e=m.default.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error");var a=g.getSiteURL()+"/",r=m.default.createElement(f.Tooltip,{id:"urlTooltip"},a),l=m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.finish",defaultMessage:"Finish"});return this.state.isLoading&&(l=m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.creatingTeam",defaultMessage:"Creating team..."})),m.default.createElement("div",null,m.default.createElement("form",null,m.default.createElement("img",{className:"signup-team-logo",src:M.default}),m.default.createElement("h2",null,m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.teamUrl",defaultMessage:"Team URL"})),m.default.createElement("div",{className:t},m.default.createElement("div",{className:"row"},m.default.createElement("div",{className:"col-sm-11"},m.default.createElement("div",{className:"input-group input-group--limit"},m.default.createElement(f.OverlayTrigger,{trigger:["hover","focus"],delayShow:E.default.OVERLAY_TIME_DELAY,placement:"top",overlay:r},m.default.createElement("span",{className:"input-group-addon"},a)),m.default.createElement("input",{type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"})))),e),m.default.createElement("p",null,m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.webAddress",defaultMessage:"Choose the web address of your new team:"})),m.default.createElement("ul",{className:"color--light"},m.default.createElement(_.FormattedHTMLMessage,{id:"create_team.team_url.hint",defaultMessage:"<li>Short and memorable is best</li> <li>Use lowercase letters, numbers and dashes</li> <li>Must start with a letter and can't end in a dash</li>"})),m.default.createElement("div",{className:"margin--extra"},m.default.createElement(f.Button,{type:"submit",bsStyle:"primary",disabled:this.state.isLoading,onClick:this.submitNext},l)),m.default.createElement("div",{className:"margin--extra"},m.default.createElement("a",{href:"#",onClick:this.submitBack},m.default.createElement(_.FormattedMessage,{id:"create_team.team_url.back",defaultMessage:"Back to previous step"})))))}}]),t}(m.default.PureComponent);N.propTypes={state:o.default.object,updateParent:o.default.func,actions:o.default.shape({checkIfTeamExists:o.default.func.isRequired,createTeam:o.default.func.isRequired}).isRequired},t.default=N},805:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(282)),l=f(a(279)),n=f(a(283)),u=f(a(280)),s=f(a(281)),d=f(a(1)),i=f(a(3)),c=a(762),o=a(285),m=a(763);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"signup-header"},i.default.createElement(o.Link,{onClick:this.props.onClick,to:this.props.url},i.default.createElement("span",{className:"fa fa-chevron-left",title:(0,m.localizeMessage)("generic_icons.back","Back Icon")}),i.default.createElement(c.FormattedMessage,{id:"web.header.back",defaultMessage:"Back"})))}}]),t}(i.default.PureComponent);p.propTypes={url:d.default.string,onClick:d.default.func},p.defaultProps={url:"/"},t.default=p},809:function(e,t,a){e.exports=a.p+"files/5d6be4015bde2a4e0358c8bc110deadc.png"},882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(282)),l=o(a(279)),n=o(a(283)),u=o(a(280)),s=o(a(281)),d=o(a(1)),i=o(a(3)),c=a(762);function o(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.props,t=e.customDescriptionText,a=e.siteName,r=null;return r=t||i.default.createElement(c.FormattedMessage,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),i.default.createElement(i.default.Fragment,null,i.default.createElement("h1",null,a),i.default.createElement("h4",{className:"color--light"},r))}}]),t}(i.default.PureComponent);m.propTypes={customDescriptionText:d.default.string,siteName:d.default.string},m.defaultProps={siteName:"Mattermost"},t.default=m}}]);
//# sourceMappingURL=10.d77fa6f3e7ac586efc6e.js.map